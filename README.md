# 🧪 음료개발 AI 플랫폼 v4

음료개발 데이터베이스(174종 원료, 321개 시장제품, HACCP 공정)를 기반으로
배합 설계부터 기획서 생성까지 원스톱 지원하는 Streamlit 웹앱입니다.

## 🚀 설치 & 실행

```bash
# 1. 패키지 설치
pip install -r requirements.txt

# 2. 데이터 파일 배치
#    음료개발_데이터베이스_v4-1.xlsx를 이 폴더에 넣기

# 3. 앱 실행
streamlit run app.py
```

## 📱 주요 기능 (4개 모듈)

### 🧪 배합 시뮬레이터
- 174종 원료 DB에서 선택 → 배합비 입력
- **자동 계산**: Brix, pH(ΔpH 기반), 산도, 감미도, 원가
- 가이드배합비 자동 로딩 (AI추천 / 실제사례)
- 음료규격기준 자동 적합판정 (17종 음료유형)

### 📊 시장제품 분석 대시보드
- 321개 시판제품 필터링 (대분류/세부유형/제조사)
- 제조사별·유형별·가격대별 분석 차트
- 배합 원재료 패턴 분석 (1~2순위 원료 빈도)
- 유형별 시장규모 비교

### 🎓 교육용 실습도구
- 6개 시나리오 (과채음료, 탄산, 주스, 유산균, 제로칼로리, 자유)
- 수강생이 직접 원료 선택 → 규격 달성 여부 확인
- 학습 가이드 내장 (배합 설계 5단계)
- 규격 달성 시 축하 효과 🎊

### 📋 신제품 기획서 자동생성
- 제품정보 → 배합 → 공정매칭 → 원가분석 → 기획서 다운로드
- HACCP 표준공정 자동 매칭 (음료유형별)
- 마진·수익성 자동 분석
- 텍스트 기획서 즉시 다운로드

## 🗂️ 데이터 구조

| 시트명 | 내용 | 건수 |
|--------|------|------|
| 음료유형분류 | 18종 음료유형 정의 | 18 |
| 시장제품DB | 시판 음료 제품 정보 | 321 |
| 원료DB | 원료 물성·이론치·단가 | 174 |
| 음료규격기준 | 유형별 Brix/pH/산도 기준 | 17 |
| 표준제조공정_HACCP | 공정단계별 HACCP 관리 | 48 |
| 가이드배합비DB | AI추천+실사례 배합비 | 200 |

## 📐 계산 모델

### pH 변화량 (ΔpH)
- 기준: pH 3.5 음료 (0.3% 구연산 완충계, β=0.025 eq/L/pH)
- 산미료: pKa/MW 기반 적정 모델
- 농축액: 유효산도 × 구연산 환산 모델
- (+) = pH 상승, (-) = pH 하락

### 감미기여
- 당류/감미료: 감미도(설탕대비) × 배합비(%) / 100
- 농축액: Brix/100 × 배합비/100 × 0.90 (과일당 감미계수)

### 산도기여
- 산미료: 1% 적정산도 이론치 (구연산 0.64, 인산 0.77 등)
- 농축액: 원료산도(%) × 배합비(%) / 100
